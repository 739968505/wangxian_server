<%@page import="com.fy.engineserver.economic.BillingCenter"%>
<%@page import="com.fy.engineserver.mail.service.MailManager"%>
<%@page
	import="com.fy.engineserver.sprite.concrete.GamePlayerManager"%>
<%@page import="com.fy.engineserver.sprite.Player"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<%
	String requestChannel = request.getParameter("channel");
	String[] userNames = {};
	long[] moneys = {};
	double [] rmbs = {};
	String channel = "";
	//if ("dcn".equals(requestChannel)) {
	//	channel = "当乐";
	//	userNames = new String[] {"Sunbiao","461623758","liujiangcvb","5loveziji","alin6688","hlf1717","1132909164","624595666","529640366","13225324859","994554618qq","gjcayg","LoDey1993","wcq21588","wLLL080107","yehun525","liuyaqian","luohong520","34505123333","1891213","2133280","4290123","65918630","809479140","2141542890","13433425971","18691038330","a8441609","cx0424","David124113","huanpeng","hw19910109","k977921","qq136549928","soso5240","w63490022","wangxiang92","xs992427","zq329a","zwy12345","mmmmmm"};
	//	moneys = new long[] {4000000,4000000,2500000,2500000,2500000,2500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000};
	//} else if ("uc".equals(requestChannel)) {
	//	channel = "UC";
	//	userNames = new String[] {"100858","40884071","85829455","85638538","hekai00","9399432","85739517","18602372701","84860916","82656401","85493142","85655136","3094535621","29769680","79614831","82497871","82744574","82960094","85083879","85342684","85401030","85721431","85761317","85982367","jiang8306667","82174971","83977956","84393872","zyg714","85814376","86015065","resonant","27739841","147258","6672775","41033257","62154251","84078261","85716435","85744298","85762485","85797422","86068909","86080761","86109023","86286727","18665477820","hai75212","murk25","q9800456" ,"mmmmmm"};
	//	moneys = new long[] {37500000,37500000,10000000,10000000,4000000,4000000,4000000,4000000,4000000,2500000,2500000,2500000,2500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000,500000};
	//} else {
	//	out.print("无效的渠道:" + requestChannel);
	//	return;
	//}
	if (channel.equals("UC")) {
		channel = "UC";
		userNames = new String[] { "87501924", "92231834", "15183521792", "81596898", "88177564", "38927646", "91149455", "91885384", "90955611", "90955611", "91409060", "13902867646", "13720609036", "89701226", "89151785", "82979892", "91348804", "91618374", "72939431", "74387795", "91524386", "90532207", "6371769", "91150688", "91236453", "92217160", "lou123098", "84699289", "5612614", "7997777", "8904998", "8251141", "8866609", "10271224", "11521558", "11871150", "12300878", "12610820", "17570431", "17892411", "23405557", "31278872", "38927646", "40611848", "40649074", "44023788", "56324654", "64483557", "65472920", "66367046", "67952132", "68303811", "68312069", "68752498", "69461937", "72939431", "74387795", "78720359", "78982608", "79844864", "81294019", "82670896", "82788056", "83017554", "83898622", "83966786", "84632316", "84808125", "85623561", "85739706", "86088250", "86130422", "87181060", "87265750", "87882699", "88316066", "88696371", "89037427", "89336755", "89546987", "89662517", "89984908", "90190488", "90201121", "90315192", "90532207", "90764315", "90789051", "90799879", "90874416", "90955611", "90982841", "90997046", "91227076", "91236453", "91239120", "91242308", "91256450", "91265204", "91267919", "91270859", "91281387", "91285752", "91286823", "91334986", "91338689", "91339176", "91344758", "91346204", "91348030", "91348116", "91348124", "91349679", "91367783", "91409060", "91500388", "91518050", "91667120", "91850233", "92074583", "315317718", "13438833944", "13728060303", "13902867646", "15251571314", "15915282112", "18606520962", "18633029270", "18635138209", "18667116578", "b85521665", "60982902"};
		moneys = new long[] { 5000000, 5000000, 10000000, 8000000, 6000000, 10000000, 7500000, 5000000, 15000000, 7500000, 25000000, 8500000, 7500000, 10000000, 10000000, 7500000, 5000000, 8000000, 10000000, 8000000, 5000000, 15000000, 15000000, 8250000, 8000000, 5000000, 8000000, 8000000, 2850000, 750000, 1500000, 1500000, 450000, 450000, 2400000, 450000, 1500000, 3000000, 750000, 1500000, 5250000, 450000, 4500000, 750000, 1500000, 1500000, 4500000, 1500000, 7500000, 6450000, 2250000, 3000000, 1500000, 750000, 2700000, 6000000, 1950000, 6000000, 1500000, 3000000, 3000000, 2400000, 18450000, 9000000, 750000, 450000, 1500000, 600000, 1500000, 450000, 4500000, 1050000, 4500000, 2400000, 1500000, 750000, 1500000, 900000, 1500000, 750000, 1500000, 450000, 6000000, 750000, 3000000, 4500000, 450000, 750000, 2400000, 1500000, 2400000, 18150000, 1500000, 6000000, 6750000, 12750000, 750000, 3000000, 3150000, 1500000, 4500000, 9000000, 1500000, 1500000, 4500000, 2400000, 2400000, 750000, 5400000, 4500000, 450000, 1500000, 37650000, 4500000, 1575000, 1500000, 10800000, 450000, 750000, 250000, 1500000, 750000, 4650000, 300000, 1500000, 3000000, 750000, 450000, 9000000, 6000000, 1500000 ,1500000};
		rmbs = new double []{100,100,200,160,120,200,150,100,300,150,500,170,150,200,200,150,100,160,200,160,100,300,300,165,160,100,160,160,57,15,30,30,9,9,48,9,30,60,15,30,105,9,90,15,30,30,90,30,150,129,45,60,30,15,54,120,39,120,30,60,60,48,369,180,15,9,30,12,30,9,90,21,90,48,30,15,30,18,30,15,30,9,120,15,60,90,9,15,48,30,48,363,30,120,135,255,15,60,63,30,90,180,30,30,90,48,48,15,108,90,9,30,753,90,31.5,30,216,9,15,5,30,15,93,6,30,60,15,9,180,120,30,30};
	} else {
		out.print("无效的渠道:" + requestChannel);
		return;
	}
	if (userNames.length != moneys.length) {
		out.print("用户名和钱数不匹配");
		return;
	}
	for (int i = 0; i < userNames.length; i++) {
		String name = userNames[i];
		long money = moneys[i];
		Player[] players = GamePlayerManager.getInstance().getPlayerByUser(name);
		if (players == null || players.length == 0) {
			out.println("[不存在角色:" + name + "] [渠道:" + channel + "] [" + players + "] [银子:" + BillingCenter.得到带单位的银两(money) + "]");
		} else {
			long mailId = -1;
			Player player = players[0];
			if (player != null) {
				//mailId = MailManager.getInstance().sendMail(player.getId(), null, channel + "充值返利", "恭喜您获得九游新服充值返利活动资格，获得返利金额"+rmbs[i]+"元，由九游代充，等值银两随邮件发放，如有疑问请联系九游论坛客服，谢谢!", money, 0, 0, "充值返利");
				String notice = player.getLogString() + "[发送充值返利成功] [发送了:" + BillingCenter.得到带单位的银两(money) + "] [邮件ID:" + mailId + "]";
				out.println(notice + "<BR/>");
				System.out.println(notice);
			} else {
				out.println("[不存在角色:" + name + "] [渠道:" + channel + "] [没有角色] [银子:" + BillingCenter.得到带单位的银两(money) + "]");
			}
		}
	}
%>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>充值返利</title>
</head>
<body>

</body>
</html>